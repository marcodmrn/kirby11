{"version":3,"sources":["js/libs/oxo.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["window","oxo","width","innerWidth","height","innerHeight","animation","move","element","direction","distance","allowOutside","console","error","position","getPosition","newPosition","computeNewPosition","elPos","getBoundingClientRect","x","y","elements","obstacles","length","elFuturePos","Object","assign","every","obstacle","elementsAreColliding","setPosition","style","transform","match","RegExp","values","map","value","parseInt","replace","translation","getMovableElement","movableElement","document","querySelector","speed","getAttribute","moveElementWithArrowKeys","interval","pressed","pixels","Math","round","addEventListener","event","key","indexOf","toLowerCase","push","setInterval","requestAnimationFrame","inputs","getDirectionFromPressedKeys","filter","clearInterval","createElement","params","type","class","split","forEach","className","classList","add","styles","appendElement","appendTo","hostSelector","host","body","appendChild","onLeaveScreen","action","completly","once","observer","IntersectionObserver","entries","entry","isIntersecting","disconnect","root","rootMargin","threshold","observe","onLeaveScreenOnce","onCollisionWithElement","target","colliding","onCollisionWithElementOnce","element1Pos","element2Pos","keys","enter","space","left","up","right","down","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","z","keysListeners","listenKey","code","bind","listenKeys","listenArrowKeys","listenKeyOnce","cancelKeyListener","cancelKeysListeners","cancelKeysListener","cancelArrowKeysListeners","listenAllKeys","listener","keyCode","dir","dirPart","player","addToScore","points","log","setScore","getScore","localStorage","getItem","removeFromScore","newScore","max","setItem","refreshScore","scoreElement","getElement","innerText","screens","currentScreen","loadScreen","name","fetch","then","response","ok","text","html","innerHTML","setAttribute","call","getCurrentScreen","utils","getRandomNumber","min","floor","random","init","message","attribute","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","getParents","modules","parents","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"oxo.54691a36.js","sourceRoot":"../src","sourcesContent":["window.oxo = {\n  oxo: this,\n  width: window.innerWidth,\n  height: window.innerHeight,\n\n  animation: {\n    /**\n     * Modify the transform property of an element to make it move\n     * @param {HTMLElement} element - The element to move\n     * @param {string} direction - The direction\n     * @param {number} distance - The number of pixels for the move\n     * @param {allowOutside} boolean - If true, the element can go off limits\n     * @return {Object} - An object containing the updated position x and y\n     */\n    move(element, direction, distance, allowOutside) {\n      if (!element) {\n        console.error('The element to move was not found');\n        return;\n      }\n\n      if (!distance) {\n        console.error('You must provide a distance to move an element');\n        return;\n      }\n\n      var position = oxo.animation.getPosition(element);\n      var newPosition = oxo.animation.computeNewPosition(\n        position,\n        direction,\n        distance,\n      );\n\n      var elPos = element.getBoundingClientRect();\n\n      if (!allowOutside) {\n        if (\n          newPosition.x + elPos.width > oxo.width ||\n          newPosition.x < 0 ||\n          newPosition.y + elPos.height > oxo.height ||\n          newPosition.y < 0\n        ) {\n          return;\n        }\n      }\n\n      if (oxo.elements.obstacles.length) {\n        var elFuturePos = Object.assign(elPos, {\n          x: newPosition.x,\n          y: newPosition.y,\n        });\n\n        if (\n          !oxo.elements.obstacles.every(function(obstacle) {\n            return (\n              obstacle == element ||\n              !oxo.elements.elementsAreColliding(\n                obstacle.getBoundingClientRect(),\n                elFuturePos,\n              )\n            );\n          })\n        ) {\n          return;\n        }\n      }\n\n      oxo.animation.setPosition(element, newPosition);\n\n      return newPosition;\n    },\n\n    /**\n     * Modify a position object depending on direction and distance\n     * @param {Object} position - An object containing the x and y position\n     * @param {string} direction - The direction in which to move\n     * @param {number} distance - The distance to move\n     */\n    computeNewPosition(position, direction, distance) {\n      var newPosition = Object.assign({}, position);\n\n      switch (direction) {\n        case 'left':\n          newPosition.x -= distance;\n          break;\n        case 'left-up':\n          newPosition.y -= distance;\n          newPosition.x -= distance;\n          break;\n        case 'up':\n          newPosition.y -= distance;\n          break;\n        case 'right-up':\n          newPosition.y -= distance;\n          newPosition.x += distance;\n          break;\n        case 'right':\n          newPosition.x += distance;\n          break;\n        case 'right-down':\n          newPosition.x += distance;\n          newPosition.y += distance;\n          break;\n        case 'down':\n          newPosition.y += distance;\n          break;\n        case 'left-down':\n          newPosition.y += distance;\n          newPosition.x -= distance;\n          break;\n        default:\n          console.error(\n            'The direction provided (' + direction + ') is not valid',\n          );\n          return;\n      }\n\n      return newPosition;\n    },\n\n    /**\n     * Get the values of the translate property for the given element\n     * @param {HTMLElement} element - The element\n     * @return {Object} An object containing the x and the y position\n     */\n    getPosition(element) {\n      var position = element.style.transform.match(\n        new RegExp(/translate\\(.+\\)/),\n      );\n\n      if (position) {\n        var values = position[0]\n          .match(/-?\\d+/g)\n          .map((value) => parseInt(value));\n        return {\n          x: values[0],\n          y: values[1],\n        };\n      } else {\n        return { x: 0, y: 0 };\n      }\n    },\n\n    /**\n     * Set the translate property of the given element\n     * @param {HTMLElement} element - The element to move\n     * @param {Object} position - An object containing the x and y values\n     * @return {string} - The updated transform property\n     */\n    setPosition(element, position) {\n      var transform = element.style.transform.replace(/translate\\(.+\\)/, '');\n\n      var translation = 'translate(' + position.x + 'px, ' + position.y + 'px)';\n\n      return (element.style.transform = transform + translation);\n    },\n\n    /**\n     * Search for an element that can be moved and call the adequate function\n     * @return {HTMLElement} the element moved\n     */\n    getMovableElement() {\n      var movableElement = document.querySelector('[data-oxo-movable]');\n\n      if (movableElement) {\n        var speed = movableElement.getAttribute('data-oxo-speed');\n        speed = speed ? speed : 10;\n        oxo.animation.moveElementWithArrowKeys(movableElement, speed);\n\n        return movableElement;\n      }\n    },\n\n    /**\n     * Move an element when the user press the arrow keys\n     * @param {HTMLElement} element - The element to move\n     * @param {number} speed - The speed of the movement\n     */\n    moveElementWithArrowKeys(element, speed) {\n      var interval;\n      var pressed = [];\n      var pixels = speed > 100 ? Math.round(speed / 100) : 1;\n\n      document.addEventListener('keydown', function(event) {\n        if (event.key.indexOf('Arrow') === 0) {\n          var direction = event.key.replace('Arrow', '').toLowerCase();\n\n          if (pressed.indexOf(direction) === -1) {\n            pressed.push(direction);\n\n            if (!interval) {\n              interval = setInterval(function() {\n                window.requestAnimationFrame(function() {\n                  if (pressed.length) {\n                    oxo.animation.move(\n                      element,\n                      oxo.inputs.getDirectionFromPressedKeys(pressed),\n                      pixels,\n                      false,\n                    );\n                  }\n                });\n              }, 100 / speed);\n            }\n          }\n        }\n      });\n\n      document.addEventListener('keyup', function(event) {\n        if (event.key.indexOf('Arrow') === 0) {\n          var direction = event.key.replace('Arrow', '').toLowerCase();\n\n          pressed = pressed.filter((key) => key !== direction);\n          if (!pressed.length) {\n            clearInterval(interval);\n            interval = null;\n          }\n        }\n      });\n    },\n  },\n\n  elements: {\n    obstacles: [],\n    /**\n     * Create an HTML element\n     * @param {*} params - An object containing the element parameters\n     * @return {HTMLElement} The created element\n     */\n    createElement(params) {\n      var element = document.createElement(params.type ? params.type : 'div');\n\n      if (params.class) {\n        params.class.split(' ').forEach(function(className) {\n          element.classList.add(className);\n        });\n      }\n\n      if (params.styles) {\n        for (style in params.styles) {\n          element.style[style] = params.styles[style];\n        }\n      }\n\n      if (params.obstacle) {\n        oxo.elements.obstacles.push(element);\n      }\n\n      oxo.elements.appendElement(element, params.appendTo);\n\n      return element;\n    },\n\n    /**\n     * Append an element inside another one\n     * @param {HTMLElement} element - The element to append\n     * @param {string} hostSelector - The string to select the host element\n     */\n    appendElement(element, hostSelector) {\n      var host = hostSelector\n        ? document.querySelector(hostSelector)\n        : document.body;\n\n      if (!host) {\n        console.error('No element was found for selector ', +hostSelector);\n        return;\n      }\n\n      host.appendChild(element);\n    },\n\n    /**\n     * Execute an action when the given element collides with the border\n     * @param {HTMLElement} element - The element to observe\n     * @param {Function} action - The action to execute\n     * @param {boolean} completly - If true, the whole element must be outside\n     * @param {boolean} once - If true, the action will be executed only once\n     * @return {IntersectionObserver} - The observer\n     */\n    onLeaveScreen(element, action, completly, once) {\n      var observer = new IntersectionObserver(\n        function(entries) {\n          entries.forEach(function(entry) {\n            if (!entry.isIntersecting) {\n              action();\n\n              if (once) {\n                observer.disconnect();\n              }\n            }\n          });\n        },\n        {\n          root: null,\n          rootMargin: '0px',\n          threshold: completly ? 0 : 1,\n        },\n      );\n      observer.observe(element);\n\n      return observer;\n    },\n\n    /**\n     * Execute an action once the given element collides with the border\n     * @param {HTMLElement} element - The element to observe\n     * @param {Function} action - The action to execute\n     * @param {boolean} completly - If true, the whole element must be outside\n     * @return {IntersectionObserver} - The observer\n     */\n    onLeaveScreenOnce(element, action, completly) {\n      return oxo.elements.onLeaveScreen(element, action, completly, true);\n    },\n\n    /**\n     * Execute an action when two element collides\n     * @param {HTMLElement} element - The element to observe\n     * @param {HTMLElement} target - The element to collide with\n     * @param {Function} action - The action to execute\n     * @param {boolean} once - If true, the action is executed only once\n     * @return {Interval} - The timer used for checking\n     */\n    onCollisionWithElement(element, target, action, once) {\n      var colliding = false;\n\n      var interval = setInterval(function() {\n        if (\n          oxo.elements.elementsAreColliding(\n            element.getBoundingClientRect(),\n            target.getBoundingClientRect(),\n          )\n        ) {\n          if (!colliding) {\n            action();\n            colliding = true;\n\n            if (once) {\n              clearInterval(interval);\n            }\n          }\n        } else {\n          colliding = false;\n        }\n      }, 10);\n\n      return interval;\n    },\n\n    /**\n     * Execute an action once when two element collides\n     * @param {HTMLElement} element - The element to observe\n     * @param {HTMLElement} target - The element to collide with\n     * @param {Function} action - The action to execute\n     * @return {Interval} - The timer used for checking\n     */\n    onCollisionWithElementOnce(element, target, action) {\n      return oxo.elements.onCollisionWithElement(element, target, action, true);\n    },\n\n    /**\n     * Test if two elements are in collision\n     * @param {Object} element1Pos - The first element position\n     * @param {Object} element2Pos - The second element position\n     */\n    elementsAreColliding(element1Pos, element2Pos) {\n      return (\n        element1Pos.x < element2Pos.x + element2Pos.width &&\n        element1Pos.x + element1Pos.width > element2Pos.x &&\n        element1Pos.y < element2Pos.y + element2Pos.height &&\n        element1Pos.height + element1Pos.y > element2Pos.y\n      );\n    },\n  },\n\n  inputs: {\n    keys: {\n      enter: 13,\n      space: 32,\n      left: 37,\n      up: 38,\n      right: 39,\n      down: 40,\n      a: 65,\n      b: 66,\n      c: 67,\n      d: 68,\n      e: 69,\n      f: 70,\n      g: 71,\n      h: 72,\n      i: 73,\n      j: 74,\n      k: 75,\n      l: 76,\n      m: 77,\n      n: 78,\n      o: 79,\n      p: 80,\n      q: 81,\n      r: 82,\n      s: 83,\n      t: 84,\n      u: 85,\n      v: 86,\n      w: 87,\n      x: 88,\n      y: 89,\n      z: 90,\n    },\n    keysListeners: {},\n\n    /**\n     * Execute the given action each time the given key is pressed\n     * @param {string} key - The key to press to trigger the action\n     * @param {Function} action - The function that will be executed\n     * @param {boolean} once - If true, the action will be executed only once\n     */\n    listenKey(key, action, once) {\n      if (!once) {\n        once = false;\n      }\n\n      var code = oxo.inputs.keys[key];\n\n      if (!code) {\n        console.error('The key \"' + code + '\" cannot be found');\n        return;\n      }\n\n      oxo.inputs.keysListeners[code] = {\n        action: action.bind(this, key),\n        once: once,\n      };\n    },\n\n    /**\n     * Execute the given action each time one of the given key is pressed\n     * @param {Array<string>} keys - The keys that should trigger the action\n     * @param {Function} action - The action to execute\n     */\n    listenKeys(keys, action) {\n      keys.forEach(function(key) {\n        oxo.inputs.listenKey(key, action);\n      });\n    },\n\n    /**\n     * Execute the given action each time an arrow key is pressed\n     * @param {Function} action - The action to execute\n     */\n    listenArrowKeys(action) {\n      oxo.inputs.listenKeys(['left', 'up', 'right', 'down'], action);\n    },\n\n    /**\n     * Execute the given action the next time the given key is pressed\n     * @param {string} key - The key to press to trigger the action\n     * @param {Function} action - The function that will be executed\n     * */\n    listenKeyOnce(key, action) {\n      oxo.inputs.listenKey(key, action, true);\n    },\n\n    /**\n     * Cancel the listener for the given key\n     * @param {string} key - The key to stop listening to\n     */\n    cancelKeyListener(key) {\n      delete oxo.inputs.keysListeners[oxo.inputs.keys[key]];\n    },\n\n    /**\n     * Cancel the listeners for several keys\n     * @param {Array<string>} - The keys to stop listening to\n     */\n    cancelKeysListeners(keys) {\n      keys.forEach(function(key) {\n        oxo.inputs.cancelKeysListener(key);\n      });\n    },\n\n    /** Cancel the listening of arrow keys */\n    cancelArrowKeysListeners() {\n      oxo.inputs.cancelKeysListener(['left', 'up', 'right', 'down']);\n    },\n\n    /**\n     * This method will be executed on initialization to listen all the keys\n     */\n    listenAllKeys() {\n      document.addEventListener('keydown', function(event) {\n        listener = oxo.inputs.keysListeners[event.keyCode];\n        if (listener) {\n          listener.action();\n\n          if (listener.once) {\n            delete oxo.inputs.keysListeners[event.keyCode];\n          }\n        }\n      });\n    },\n\n    /**\n     * Get the direction by combining the differents keys pressed\n     * @param {Array<string>} pressed - The direction currently pressed\n     * @return {string} the direction\n     */\n    getDirectionFromPressedKeys(pressed) {\n      var direction = pressed[0];\n\n      ['left-up', 'left-down', 'right-up', 'right-down'].forEach(function(dir) {\n        if (\n          dir.split('-').every(function(dirPart) {\n            return pressed.indexOf(dirPart) > -1;\n          })\n        ) {\n          direction = dir;\n        }\n      });\n\n      return direction;\n    },\n  },\n\n  player: {\n    /**\n     * Add one or several points to the score\n     * @param {number} points - The number of points to add\n     * @return {number} The new score\n     */\n    addToScore(points) {\n      oxo.log('Add ' + points + ' points to the score');\n\n      return oxo.player.setScore(oxo.player.getScore() + points);\n    },\n\n    /**\n     * Get the score\n     * @return {number} The score\n     */\n    getScore() {\n      return parseInt(localStorage.getItem('score'));\n    },\n\n    /**\n     * Remove one or several points from the score\n     * @param {number} points - The number of points to remove\n     * @return {number} The new score\n     */\n    removeFromScore(points) {\n      var newScore = Math.max(0, oxo.player.getScore() - points);\n      oxo.log('Remove ' + points + ' points from the score');\n\n      return oxo.player.setScore(newScore);\n    },\n\n    /**\n     * Set the score\n     * @param {number} points - The score\n     * @return {number} The score\n     */\n    setScore(points) {\n      localStorage.setItem('score', points);\n      oxo.log('New score is ' + points);\n\n      oxo.player.refreshScore();\n\n      return points;\n    },\n\n    /**\n     * Refresh the score display\n     */\n    refreshScore() {\n      var scoreElement = oxo.getElement('score');\n\n      if (scoreElement) {\n        scoreElement.innerText = oxo.player.getScore();\n      }\n    },\n  },\n\n  screens: {\n    currentScreen: '',\n    /**\n     * Load a new screen (and add matching class to the body)\n     * @param {string} name - The name of the html file for the screen to load\n     * @param {Function} action - The function to execute after loading\n     * @return {Promise} - The fetch promise\n     */\n    loadScreen(name, action) {\n      return fetch('../../screens/' + name + '.html').then(function(response) {\n        if (response.ok) {\n          response.text().then(function(html) {\n            document.body.innerHTML = html;\n            document.body.setAttribute('class', name);\n            oxo.log('Load screen ' + name);\n            oxo.player.refreshScore();\n            oxo.animation.getMovableElement();\n            oxo.screens.currentScreen = name;\n\n            if (action) {\n              action.call();\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * Get the name of the current screen\n     * @return {string} the current screen\n     */\n    getCurrentScreen() {\n      return oxo.screens.currentScreen;\n    },\n  },\n\n  utils: {\n    /**\n     * Get a random number between two limits\n     * @param {number} min - The min number\n     * @param {number} max - The max number\n     * @return {number} - The random number\n     */\n    getRandomNumber(min, max) {\n      return Math.floor(Math.random() * (max - min + 1) + min);\n    },\n  },\n\n  /**\n   * A function that will be run when oxo is called in order to init the game\n   */\n  init() {\n    oxo.screens.loadScreen('home');\n    oxo.inputs.listenAllKeys();\n    oxo.player.setScore(0);\n  },\n\n  /**\n   * Pretty logger for oxo events\n   * @param {string} message - The information to log\n   */\n  log(message) {\n    console.log('%c OXO: ' + message, 'background-color: gold; padding: 5px');\n  },\n\n  /**\n   * Find an element with an oxo data attribute in the DOM\n   * @param {string} attribute - The data attribute of the element (oxo-data-*)\n   */\n  getElement(attribute) {\n    return document.querySelector('[data-oxo-' + attribute + ']');\n  },\n};\n\nwindow.oxo.init();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}